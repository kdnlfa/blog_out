(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{341:(e,s,r)=>{Promise.resolve().then(r.bind(r,9305))},1202:(e,s,r)=>{"use strict";r.d(s,{BT:()=>x,N:()=>f,Tn:()=>u,Wu:()=>m,ZB:()=>o,Zj:()=>g,Zp:()=>i,aR:()=>c,vZ:()=>p,wL:()=>h});var a=r(5155),l=r(2115),t=r(2085),d=r(3999);let n=(0,t.F)("rounded-lg bg-white transition-all duration-200",{variants:{shadow:{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"},padding:{none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"},border:{true:"border border-gray-200",false:""},hover:{true:"hover:shadow-lg hover:scale-[1.02] cursor-pointer",false:""}},defaultVariants:{shadow:"md",padding:"md",border:!1,hover:!1}}),i=(0,l.forwardRef)((e,s)=>{let{className:r,shadow:l,padding:t,border:i,hover:c,children:o,...x}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)(n({shadow:l,padding:t,border:i,hover:c}),r),...x,children:o})});i.displayName="Card";let c=(0,l.forwardRef)((e,s)=>{let{className:r,children:l,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("mb-4",r),...t,children:l})});c.displayName="CardHeader";let o=(0,l.forwardRef)((e,s)=>{let{className:r,children:l,as:t="h3",...n}=e;return(0,a.jsx)(t,{ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight text-gray-900",r),...n,children:l})});o.displayName="CardTitle";let x=(0,l.forwardRef)((e,s)=>{let{className:r,children:l,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,d.cn)("text-sm text-gray-600 mt-1",r),...t,children:l})});x.displayName="CardDescription";let m=(0,l.forwardRef)((e,s)=>{let{className:r,children:l,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("",r),...t,children:l})});m.displayName="CardContent";let h=(0,l.forwardRef)((e,s)=>{let{className:r,children:l,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("mt-4 pt-4 border-t border-gray-100",r),...t,children:l})});h.displayName="CardFooter";let u=(0,l.forwardRef)((e,s)=>(0,a.jsx)(i,{ref:s,shadow:"sm",border:!0,...e})),f=(0,l.forwardRef)((e,s)=>(0,a.jsx)(i,{ref:s,shadow:"lg",...e})),p=(0,l.forwardRef)((e,s)=>(0,a.jsx)(i,{ref:s,hover:!0,...e})),g=(0,l.forwardRef)((e,s)=>{let{title:r,excerpt:l,author:t,date:n,category:u,tags:f=[],imageUrl:p,href:g,onRead:j,className:v,...b}=e;return(0,a.jsxs)(i,{ref:s,hover:!!(j||g),className:(0,d.cn)("overflow-hidden",v),onClick:()=>{j?j():g&&window.open(g,"_self")},...b,children:[p&&(0,a.jsx)("div",{className:"aspect-video relative overflow-hidden",children:(0,a.jsx)("img",{src:p,alt:r,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:(0,d.cn)(p?"p-4":""),children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:u}),(0,a.jsx)("span",{className:"text-gray-500 text-xs",children:n})]}),(0,a.jsx)(o,{children:r}),(0,a.jsx)(x,{children:l})]}),(0,a.jsx)(m,{children:f.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[f.slice(0,3).map((e,s)=>(0,a.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",e]},s)),f.length>3&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["+",f.length-3]})]})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["作者: ",t]}),(0,a.jsx)("span",{className:"text-blue-600 text-sm font-medium",children:"阅读更多 →"})]})})]})]})});g.displayName="BlogCard"},6076:(e,s,r)=>{"use strict";r.d(s,{DO:()=>f,TM:()=>m,j5:()=>h,pd:()=>x,yA:()=>u});var a=r(5155),l=r(2115),t=r(2085),d=r(3999);let n=(0,t.F)("flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",{variants:{size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3 text-sm",lg:"h-11 px-4 text-base"},variant:{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}},defaultVariants:{size:"md",variant:"default"}}),i=(0,l.forwardRef)((e,s)=>{let{className:r,required:l,children:t,...n}=e;return(0,a.jsxs)("label",{ref:s,className:(0,d.cn)("block text-sm font-medium text-gray-700 mb-1",r),...n,children:[t,l&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})});i.displayName="Label";let c=e=>{let{message:s}=e;return s?(0,a.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,a.jsx)("svg",{className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s]}):null},o=e=>{let{text:s}=e;return s?(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s}):null},x=(0,l.forwardRef)((e,s)=>{let{className:r,type:t="text",size:x,variant:m,label:h,error:u,helperText:f,required:p,leftIcon:g,rightIcon:j,id:v,...b}=e,w=v||l.useId();return(0,a.jsxs)("div",{className:"w-full",children:[h&&(0,a.jsx)(i,{htmlFor:w,required:p,children:h}),(0,a.jsxs)("div",{className:"relative",children:[g&&(0,a.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:g}),(0,a.jsx)("input",{id:w,type:t,ref:s,className:(0,d.cn)(n({size:x,variant:u?"error":m}),g&&"pl-10",j&&"pr-10",r),...b}),j&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:j})]}),(0,a.jsx)(c,{message:u}),!u&&(0,a.jsx)(o,{text:f})]})});x.displayName="Input";let m=(0,l.forwardRef)((e,s)=>{let{className:r,label:t,error:n,helperText:x,required:m,id:h,rows:u=4,...f}=e,p=h||l.useId();return(0,a.jsxs)("div",{className:"w-full",children:[t&&(0,a.jsx)(i,{htmlFor:p,required:m,children:t}),(0,a.jsx)("textarea",{id:p,ref:s,rows:u,className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",n&&"border-red-500 focus:border-red-500 focus:ring-red-500",r),...f}),(0,a.jsx)(c,{message:n}),!n&&(0,a.jsx)(o,{text:x})]})});m.displayName="Textarea";let h=(0,l.forwardRef)((e,s)=>(0,a.jsx)(x,{ref:s,type:"email",...e})),u=(0,l.forwardRef)((e,s)=>{let{showPassword:r=!1,onTogglePassword:l,...t}=e,d=(0,a.jsx)("button",{type:"button",onClick:l,className:"text-gray-400 hover:text-gray-600 focus:outline-none",tabIndex:-1,children:r?(0,a.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),(0,a.jsx)("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]}):(0,a.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,a.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})});return(0,a.jsx)(x,{ref:s,type:r?"text":"password",rightIcon:l?d:void 0,...t})}),f=(0,l.forwardRef)((e,s)=>(0,a.jsx)(x,{ref:s,type:"search",leftIcon:(0,a.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),...e}))},9305:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var a=r(5155),l=r(2115),t=r(4912),d=r(6076),n=r(1202),i=r(3274),c=r(1056),o=r(6874),x=r.n(o);function m(e){var s;let r,{redirectUrl:o,className:m=""}=e,{register:h,isLoading:u,error:f,clearError:p}=(0,i.As)(),[g,j]=(0,l.useState)({email:"",username:"",displayName:"",password:"",confirmPassword:"",agreeToTerms:!1}),[v,b]=(0,l.useState)({}),[w,N]=(0,l.useState)(!1),[y,R]=(0,l.useState)(!1),C=(e,s)=>{j(r=>({...r,[e]:s})),v[e]&&b(s=>({...s,[e]:""})),f&&p()},T=()=>{let e={},s=c.EJ.validateEmail(g.email);s&&(e.email=s);let r=c.EJ.validateUsername(g.username);r&&(e.username=r);let a=c.EJ.validateDisplayName(g.displayName);a&&(e.displayName=a);let l=c.EJ.validatePassword(g.password);return l&&(e.password=l),g.confirmPassword?g.password!==g.confirmPassword&&(e.confirmPassword="两次输入的密码不一致"):e.confirmPassword="请确认密码",g.agreeToTerms||(e.agreeToTerms="请阅读并同意用户协议"),b(e),0===Object.keys(e).length},k=async e=>{if(e.preventDefault(),T())try{await h(g),o?window.location.href=o:window.location.href="/"}catch(e){console.error("注册失败:",e)}},z=g.password?(s=g.password,r=0,(s.length>=6&&r++,s.length>=8&&r++,/[A-Z]/.test(s)&&r++,/[a-z]/.test(s)&&r++,/[0-9]/.test(s)&&r++,/[^A-Za-z0-9]/.test(s)&&r++,r<=2)?{level:"weak",color:"bg-red-500",text:"弱"}:r<=4?{level:"medium",color:"bg-yellow-500",text:"中等"}:{level:"strong",color:"bg-green-500",text:"强"}):null;return(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto ".concat(m),children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold",children:"创建账户"}),(0,a.jsx)("p",{className:"text-gray-600",children:"加入我们，开始您的博客之旅"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[f&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-red-600 text-sm",children:f.message})}),(0,a.jsx)("div",{children:(0,a.jsx)(d.j5,{label:"邮箱地址",value:g.email,onChange:e=>C("email",e.target.value),error:v.email,placeholder:"请输入您的邮箱",helperText:"我们将向此邮箱发送验证邮件",required:!0})}),(0,a.jsx)("div",{children:(0,a.jsx)(d.pd,{label:"用户名",value:g.username,onChange:e=>C("username",e.target.value),error:v.username,placeholder:"请输入用户名",helperText:"3-20个字符，只能包含字母、数字和下划线",required:!0})}),(0,a.jsx)("div",{children:(0,a.jsx)(d.pd,{label:"显示名称",value:g.displayName,onChange:e=>C("displayName",e.target.value),error:v.displayName,placeholder:"请输入显示名称",helperText:"其他用户看到的名称",required:!0})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.yA,{label:"密码",value:g.password,onChange:e=>C("password",e.target.value),error:v.password,placeholder:"请设置您的密码",showPassword:w,onTogglePassword:()=>N(!w),required:!0}),z&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[(0,a.jsx)("span",{children:"密码强度"}),(0,a.jsx)("span",{children:z.text})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 ".concat(z.color),style:{width:"weak"===z.level?"33%":"medium"===z.level?"66%":"100%"}})})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(d.yA,{label:"确认密码",value:g.confirmPassword,onChange:e=>C("confirmPassword",e.target.value),error:v.confirmPassword,placeholder:"请再次输入密码",showPassword:y,onTogglePassword:()=>R(!y),required:!0})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-start",children:[(0,a.jsx)("input",{type:"checkbox",checked:g.agreeToTerms,onChange:e=>C("agreeToTerms",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1"}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["我已阅读并同意",(0,a.jsx)(x(),{href:"/terms",className:"text-blue-600 hover:text-blue-800 mx-1",children:"用户协议"}),"和",(0,a.jsx)(x(),{href:"/privacy",className:"text-blue-600 hover:text-blue-800 mx-1",children:"隐私政策"})]})]}),v.agreeToTerms&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:v.agreeToTerms})]}),(0,a.jsx)(t.$n,{type:"submit",fullWidth:!0,loading:u,disabled:u,children:u?"注册中...":"创建账户"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["已有账户？"," ",(0,a.jsx)(x(),{href:"/auth/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"立即登录"})]})}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,a.jsxs)("div",{className:"text-sm text-blue-600",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"注册须知："}),(0,a.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,a.jsx)("li",{children:"• 注册后需要验证邮箱才能完全激活账户"}),(0,a.jsx)("li",{children:"• 请使用真实邮箱，以便接收重要通知"}),(0,a.jsx)("li",{children:"• 用户名注册后不可修改，请谨慎选择"})]})]})})]})]})}function h(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x(),{href:"/",className:"inline-block",children:(0,a.jsx)("div",{className:"h-12 w-12 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xl mx-auto",children:"B"})}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"创建新账户"}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["或者"," ",(0,a.jsx)(x(),{href:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"登录现有账户"})]})]})}),(0,a.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,a.jsx)(m,{})})}),(0,a.jsxs)("div",{className:"mt-8 text-center text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"space-x-4",children:[(0,a.jsx)(x(),{href:"/help",className:"hover:text-gray-900",children:"帮助中心"}),(0,a.jsx)(x(),{href:"/contact",className:"hover:text-gray-900",children:"联系我们"}),(0,a.jsx)(x(),{href:"/privacy",className:"hover:text-gray-900",children:"隐私政策"}),(0,a.jsx)(x(),{href:"/terms",className:"hover:text-gray-900",children:"用户协议"})]}),(0,a.jsx)("p",{className:"mt-2 text-xs",children:"\xa9 2024 我的博客. 保留所有权利."})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[490,7,441,684,358],()=>s(341)),_N_E=e.O()}]);