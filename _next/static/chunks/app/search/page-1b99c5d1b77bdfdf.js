(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{1202:(e,s,a)=>{"use strict";a.d(s,{BT:()=>h,N:()=>p,Tn:()=>o,Wu:()=>m,ZB:()=>x,Zj:()=>g,Zp:()=>i,aR:()=>d,vZ:()=>u,wL:()=>j});var l=a(5155),r=a(2115),n=a(2085),t=a(3999);let c=(0,n.F)("rounded-lg bg-white transition-all duration-200",{variants:{shadow:{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"},padding:{none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"},border:{true:"border border-gray-200",false:""},hover:{true:"hover:shadow-lg hover:scale-[1.02] cursor-pointer",false:""}},defaultVariants:{shadow:"md",padding:"md",border:!1,hover:!1}}),i=(0,r.forwardRef)((e,s)=>{let{className:a,shadow:r,padding:n,border:i,hover:d,children:x,...h}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)(c({shadow:r,padding:n,border:i,hover:d}),a),...h,children:x})});i.displayName="Card";let d=(0,r.forwardRef)((e,s)=>{let{className:a,children:r,...n}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("mb-4",a),...n,children:r})});d.displayName="CardHeader";let x=(0,r.forwardRef)((e,s)=>{let{className:a,children:r,as:n="h3",...c}=e;return(0,l.jsx)(n,{ref:s,className:(0,t.cn)("text-lg font-semibold leading-none tracking-tight text-gray-900",a),...c,children:r})});x.displayName="CardTitle";let h=(0,r.forwardRef)((e,s)=>{let{className:a,children:r,...n}=e;return(0,l.jsx)("p",{ref:s,className:(0,t.cn)("text-sm text-gray-600 mt-1",a),...n,children:r})});h.displayName="CardDescription";let m=(0,r.forwardRef)((e,s)=>{let{className:a,children:r,...n}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("",a),...n,children:r})});m.displayName="CardContent";let j=(0,r.forwardRef)((e,s)=>{let{className:a,children:r,...n}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("mt-4 pt-4 border-t border-gray-100",a),...n,children:r})});j.displayName="CardFooter";let o=(0,r.forwardRef)((e,s)=>(0,l.jsx)(i,{ref:s,shadow:"sm",border:!0,...e})),p=(0,r.forwardRef)((e,s)=>(0,l.jsx)(i,{ref:s,shadow:"lg",...e})),u=(0,r.forwardRef)((e,s)=>(0,l.jsx)(i,{ref:s,hover:!0,...e})),g=(0,r.forwardRef)((e,s)=>{let{title:a,excerpt:r,author:n,date:c,category:o,tags:p=[],imageUrl:u,href:g,onRead:f,className:N,...v}=e;return(0,l.jsxs)(i,{ref:s,hover:!!(f||g),className:(0,t.cn)("overflow-hidden",N),onClick:()=>{f?f():g&&window.open(g,"_self")},...v,children:[u&&(0,l.jsx)("div",{className:"aspect-video relative overflow-hidden",children:(0,l.jsx)("img",{src:u,alt:a,className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{className:(0,t.cn)(u?"p-4":""),children:[(0,l.jsxs)(d,{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:o}),(0,l.jsx)("span",{className:"text-gray-500 text-xs",children:c})]}),(0,l.jsx)(x,{children:a}),(0,l.jsx)(h,{children:r})]}),(0,l.jsx)(m,{children:p.length>0&&(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[p.slice(0,3).map((e,s)=>(0,l.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",e]},s)),p.length>3&&(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:["+",p.length-3]})]})}),(0,l.jsx)(j,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["作者: ",n]}),(0,l.jsx)("span",{className:"text-blue-600 text-sm font-medium",children:"阅读更多 →"})]})})]})]})});g.displayName="BlogCard"},5695:(e,s,a)=>{"use strict";var l=a(8999);a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(s,{useSearchParams:function(){return l.useSearchParams}})},6776:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var l=a(5155),r=a(2115),n=a(5695),t=a(3343),c=a(1202),i=a(8145),d=a(4912),x=a(2883);function h(){return(0,l.jsxs)("div",{className:"hidden md:flex items-center text-xs text-gray-400 mt-2 justify-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"⌘"}),(0,l.jsx)("span",{children:"+"}),(0,l.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"K"}),(0,l.jsx)("span",{children:"搜索"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"/"}),(0,l.jsx)("span",{children:"快速搜索"})]})]})}function m(e){let{text:s,highlight:a,className:r=""}=e;if(!a.trim())return(0,l.jsx)("span",{className:r,children:s});let n=RegExp("(".concat(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi"),t=s.split(n);return(0,l.jsx)("span",{className:r,children:t.map((e,s)=>e.toLowerCase()===a.toLowerCase()?(0,l.jsx)("mark",{className:"bg-yellow-200 px-1 rounded",children:e},s):e)})}var j=a(6874),o=a.n(j),p=a(9065);function u(e){let{result:s,query:a}=e,{article:r,matches:n,relevanceScore:t}=s;return(0,l.jsx)(c.Zp,{className:"hover:shadow-lg transition-shadow",children:(0,l.jsxs)(c.Wu,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsxs)(i.E,{variant:"outline",size:"sm",children:["相关性: ",t]}),n.title&&(0,l.jsx)(i.E,{variant:"success",size:"sm",children:"标题匹配"}),n.category&&(0,l.jsx)(i.E,{variant:"primary",size:"sm",children:"分类匹配"}),n.tags&&(0,l.jsx)(i.E,{variant:"warning",size:"sm",children:"标签匹配"})]}),(0,l.jsx)(o(),{href:"/blog/".concat(r.slug),children:(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 hover:text-blue-600 mb-2",children:(0,l.jsx)(m,{text:r.title,highlight:a})})}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:(0,l.jsx)(m,{text:r.excerpt,highlight:a})}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,l.jsx)("span",{children:r.author}),(0,l.jsx)("span",{children:"•"}),(0,l.jsx)("span",{children:r.publishDate}),(0,l.jsx)("span",{children:"•"}),(0,l.jsx)("span",{children:r.readTime}),(0,l.jsx)("span",{children:"•"}),(0,l.jsxs)("span",{children:[r.views.toLocaleString()," 浏览"]})]})]}),r.imageUrl&&(0,l.jsx)("img",{src:r.imageUrl,alt:r.title,className:"w-32 h-24 object-cover rounded-lg ml-4"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.E,{variant:"secondary",size:"sm",children:r.category}),r.tags.slice(0,2).map(e=>(0,l.jsx)(i.E,{variant:"outline",size:"sm",children:e},e))]}),(0,l.jsx)(o(),{href:"/blog/".concat(r.slug),children:(0,l.jsx)(d.$n,{variant:"outline",size:"sm",children:"阅读文章"})})]})]})})}function g(){let e=(0,n.useSearchParams)(),[s,a]=(0,r.useState)(""),[t,x]=(0,r.useState)([]),[h,m]=(0,r.useState)([]);return((0,r.useEffect)(()=>{let s=e.get("q")||"";a(s),s?x((0,p.aL)(s)):x([]),m((0,p.R9)())},[e]),s)?0===t.length?(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,l.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:['没有找到 "',s,'" 的相关结果']}),(0,l.jsx)("p",{className:"text-gray-600 mb-8",children:"请尝试其他关键词或浏览下面的热门搜索"}),(0,l.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,l.jsx)(o(),{href:"/blog",children:(0,l.jsx)(d.$n,{variant:"primary",children:"浏览所有文章"})}),(0,l.jsx)(o(),{href:"/categories",children:(0,l.jsx)(d.$n,{variant:"outline",children:"查看分类"})})]})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"尝试这些搜索"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>(0,l.jsx)(o(),{href:"/search?q=".concat(encodeURIComponent(e)),children:(0,l.jsx)(i.E,{variant:"outline",className:"hover:bg-blue-50 cursor-pointer",children:e})},e))})})]})]}):(0,l.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-3",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:['"',s,'" 的搜索结果']}),(0,l.jsxs)("p",{className:"text-gray-600",children:["找到 ",t.length," 篇相关文章"]})]}),(0,l.jsx)("div",{className:"space-y-6",children:t.map(e=>(0,l.jsx)(u,{result:e,query:s},e.article.slug))})]}),(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"搜索统计"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"总结果数"}),(0,l.jsx)("span",{className:"font-bold text-blue-600",children:t.length})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"最高相关性"}),(0,l.jsx)("span",{className:"font-bold text-green-600",children:t.length>0?Math.max(...t.map(e=>e.relevanceScore)):0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"匹配分类"}),(0,l.jsx)("span",{className:"font-bold text-purple-600",children:new Set(t.map(e=>e.article.category)).size})]})]})})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"热门搜索"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:h.slice(0,6).map(e=>(0,l.jsx)(o(),{href:"/search?q=".concat(encodeURIComponent(e)),children:(0,l.jsx)(i.E,{variant:"outline",className:"hover:bg-blue-50 cursor-pointer",children:e})},e))})})]}),(0,l.jsx)(c.Zp,{children:(0,l.jsx)(c.Wu,{className:"py-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o(),{href:"/blog",children:(0,l.jsx)(d.$n,{variant:"outline",size:"sm",fullWidth:!0,children:"所有文章"})}),(0,l.jsx)(o(),{href:"/categories",children:(0,l.jsx)(d.$n,{variant:"outline",size:"sm",fullWidth:!0,children:"浏览分类"})}),(0,l.jsx)(o(),{href:"/tags",children:(0,l.jsx)(d.$n,{variant:"outline",size:"sm",fullWidth:!0,children:"查看标签"})})]})})})]})})]})}):(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"开始搜索"}),(0,l.jsx)("p",{className:"text-gray-600",children:"在上方搜索框输入关键词，搜索感兴趣的技术文章"})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"热门搜索"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>(0,l.jsx)(o(),{href:"/search?q=".concat(encodeURIComponent(e)),children:(0,l.jsx)(i.E,{variant:"outline",className:"hover:bg-blue-50 cursor-pointer",children:e})},e))})})]}),(0,l.jsxs)(c.Zp,{className:"mt-6",children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"搜索提示"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,l.jsx)("div",{children:"• 搜索文章标题、内容、标签和分类"}),(0,l.jsx)("div",{children:"• 支持中英文关键词搜索"}),(0,l.jsx)("div",{children:'• 尝试搜索 "React"、"TypeScript"、"性能优化" 等'}),(0,l.jsx)("div",{children:"• 搜索结果按相关性排序"})]})})]})]})}function f(){return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(t.default,{}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"搜索文章"}),(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsx)(x.G,{}),(0,l.jsx)(h,{})]})]})}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"搜索中..."})]}),children:(0,l.jsx)(g,{})})})]})}},8880:(e,s,a)=>{Promise.resolve().then(a.bind(a,6776))}},e=>{var s=s=>e(e.s=s);e.O(0,[490,7,343,441,684,358],()=>s(8880)),_N_E=e.O()}]);